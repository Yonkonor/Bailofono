<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sintetizador de acorde de la mayor</title>
  </head>
  <body>
    <h1>Sintetizador de acorde de la mayor</h1>
    <button id="playButton" style="font-size: 3em;">Pulsa para tocar el acorde de la mayor</button>

    <script>
      const audioContext = new AudioContext();

      function playAChord() {
        // Crea los osciladores para cada nota del acorde de la mayor
        const oscillator1 = audioContext.createOscillator();
        oscillator1.frequency.setValueAtTime(440, audioContext.currentTime); // La nota La
        const oscillator2 = audioContext.createOscillator();
        oscillator2.frequency.setValueAtTime(554.37, audioContext.currentTime); // La nota Do#
        const oscillator3 = audioContext.createOscillator();
        oscillator3.frequency.setValueAtTime(659.26, audioContext.currentTime); // La nota Mi

        // Crea un nodo de ganancia para mezclar los sonidos de las notas
        const gainNode = audioContext.createGain();
        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);

        // Conecta los osciladores y el nodo de ganancia a la salida de audio
        oscillator1.connect(gainNode);
        oscillator2.connect(gainNode);
        oscillator3.connect(gainNode);
        gainNode.connect(audioContext.destination);

        // Inicia los osciladores
        oscillator1.start();
        oscillator2.start();
        oscillator3.start();

        // Detiene los osciladores después de 2 segundos
        setTimeout(() => {
          oscillator1.stop();
          oscillator2.stop();
          oscillator3.stop();
        }, 2000);
      }

      // Asigna la función `playAChord` al evento click del botón
      document.getElementById('playButton').addEventListener('click', () => {
        playAChord();
      });
    </script>
  </body>
</html>
